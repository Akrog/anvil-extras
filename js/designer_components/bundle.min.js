var n=class{static postLoad(){}constructor(t,e,i){this.domNode=t,this.pyComponent=e,this.el=i}static init(t,e="anvil-extras-designer"){let i=()=>{this.loading=!0,$(()=>{this.setup(t,e),this.postLoad(),this.loaded=!0,this.loading=!1})};if(!this.loaded&&!this.loading){if(this.loading=!0,this.links.forEach(s=>{let r=document.createElement("link");r.href=s,r.rel="stylesheet",document.body.appendChild(r)}),this.css){let s=document.createElement("style");s.innerHTML=this.css,document.body.appendChild(s)}if(this.script){let s=document.createElement("script");s.src=this.script,document.body.appendChild(s),s.onload=i}else i()}else this.loading||i()}static setup(t,e){for(let i of document.querySelectorAll(t)){let s=i.parentElement;if(s.classList.contains(e))return;s.classList.add(e);let r=$(s).data("anvilPyComponent"),l=r._anvil.customPropVals,a=new this(s,r,i);l&&a.makeGetSets(l),a.update({...l||this.defaults})}}makeGetSets(t){let e={...t},i=this;for(let s in e)this.setProp(s,t[s]),Object.defineProperty(t,s,{get(){return e[s]},set(r){e[s]=r;try{i.setProp(s,r),i.update({...e},s,r)}catch{}return!0}})}update(t,e,i){}setProp(t,e){}updateSpacing({spacing_above:t,spacing_below:e}){let i=Array.prototype.filter.call(this.domNode.classList,s=>s.startsWith("anvil-spacing-"));this.domNode.classList.remove(...i),t&&this.domNode.classList.add("anvil-spacing-above-"+t),e&&this.domNode.classList.add("anvil-spacing-above-"+e)}updateRole({role:t}){let e=Array.prototype.filter.call(this.domNode.classList,i=>i.startsWith("anvil-role-"));this.domNode.classList.remove(...e),t&&this.domNode.classList.add("anvil-role-"+t)}updateVisible({visible:t}){this.domNode.classList.toggle("visible-false",!t)}getColor(t,e){return t&&t.startsWith("theme:")&&(t=window.anvilThemeColors[t.replace("theme:","")]||""),!t&&e?e===!0||e==="primary"?window.anvilThemeColors["Primary 500"]||"#2196F3":e:t}getColorRGB(t,e){if(t=this.getColor(t,e),t&&t.startsWith("#")){let i=parseInt(t.slice(1),16);return[i>>16&255,i>>8&255,i&255].join(",")}else if(t&&t.startsWith("rgb("))return t.slice(4,t.length-1);return t}clearElement(t){for(;t.firstElementChild;)t.removeChild(t.firstElementChild)}get[Symbol.toStringTag](){return"Designer Component"}};n.css="",n.links=[],n.script="",n.loaded=!1,n.loading=!1,n.defaults={},n.initializing=!1;var p=class extends n{static postLoad(){$.fn.selectpicker.Constructor.BootstrapVersion="3"}static init(){super.init(".select-picker")}constructor(t,e,i){super(t,e,i);this.picker=$(i),this.picker.selectpicker()}update(t,e){e&&!(e in this.constructor.defaults)||(this.picker.attr("title",t.placeholder||null),this.picker.selectpicker({title:t.placeholder}),this.picker.attr("disabled",t.enabled?null:""),this.updateSpacing(t),this.updateVisible(t),this.picker.selectpicker("refresh"),this.picker.selectpicker("render"))}};p.defaults={placeholder:"None Selected",enabled:!0,visible:!0,spacing_above:"small",spacing_below:"small"},p.links=["https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/css/bootstrap-select.min.css"],p.script="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/js/bootstrap-select.min.js";var u=class extends n{static init(){super.init(".quill-editor")}constructor(t,e,i){super(t,e,i);this.editor=i}update(t){this.editor.firstElementChild&&this.editor.removeChild(this.editor.firstElementChild),this.domNode.firstElementChild!==this.editor&&this.domNode.removeChild(this.domNode.firstElementChild);let e=new Quill(this.editor,{modules:{toolbar:t.toolbar||!1},readOnly:t.readonly,theme:t.theme,placeholder:t.placeholder});this.updateSpacing(t),this.updateVisible(t);let i=t.height;i=(""+i).match(/[a-zA-Z%]/g)?i:i+"px",this.editor.style.minHeight=i,this.editor.style.height=t.auto_expand?i:"auto",e.setText(t.content||"")}get[Symbol.toStringTag](){return"Quill"}};u.defaults={auto_expand:!0,content:"",height:150,placeholder:null,readonly:!1,theme:"snow",toolbar:!0,visible:!0},u.links=["//cdn.quilljs.com/1.3.6/quill.snow.css","//cdn.quilljs.com/1.3.6/quill.bubble.css"],u.script="//cdn.quilljs.com/1.3.6/quill.min.js";var h=class extends n{static init(){super.init(".anvil-slider","anvil-slider-container")}constructor(t,e,i){super(t,e,i);this.slider=i}parse(t,e=!1){if(typeof t!="string")return t;if(t=t.toLowerCase().trim(),!t)return e?[]:null;try{return JSON.parse((e||t.includes(","))&&t[0]!=="["?`[${t}]`:t)}catch{return e?[]:t}}getFormatter(t){let e=t.indexOf("{"),i=t.indexOf("}"),s=e===-1?"":t.slice(0,e),r=i===-1?"":t.slice(i+1),l=t[i-1]==="%"?"%":null,a=Sk.ffi.toPy(t),d=a.tp$getattr(Sk.ffi.toPy("format")),c=o=>{let m=Sk.ffi.toPy(o);return e===-1?Sk.builtin.format(m,a):d.tp$call([m])};try{c(1.1)}catch(o){throw new Error(o.toString())}return{to:o=>{try{return c(o)}catch{return o}},from:o=>{o.startsWith(s)&&(o=o.slice(s.length)),o.endsWith(r)&&(o=o.slice(0,o.length-r.length));let m=l==="%"&&o.endsWith("%");o=o.trim().replace(/[,_]/g,"");let f=parseFloat(o);return m&&(f=f/100),f}}}update(t){try{for(let e of["start","connect","margin","padding","limit","pips_values"])t[e]=this.parse(t[e],e==="pips_values");t.range={min:t.min,max:t.max},t.format=this.getFormatter(t.format||".2f"),t.pips&&(t.pips={format:t.format,mode:t.pips_mode,values:t.pips_values,density:t.pips_density,stepped:t.pips_stepped}),this.domNode.classList.toggle("has-pips",!!t.pips),this.slider.noUiSlider?.destroy(),this.slider.firstElementChild&&this.slider.removeChild(this.slider.firstElementChild),this.domNode.style.setProperty("--primary",this.getColor(t.color,!0)),this.updateSpacing(t),this.updateVisible(t),t.enabled?this.slider.removeAttribute("disabled"):this.slider.setAttribute("disabled",""),noUiSlider.create(this.slider,t)}catch(e){this.slider.noUiSlider?.destroy(),this.slider.firstElementChild&&this.slider.removeChild(this.slider.firstElementChild);let i=$(`<div class='invalid-component'>
              <i class="glyphicon glyphicon-remove"></i>
              <div class="err">${e.message.replaceAll("noUiSlider","Slider")}</div></div>`);this.slider.appendChild(i[0])}}get[Symbol.toStringTag](){return"Slider"}};h.defaults={start:[20,80],connect:!0,min:0,max:100,visible:!0,enabled:!0},h.links=["https://cdn.jsdelivr.net/npm/nouislider@15.1.1/dist/nouislider.css"],h.script="https://cdn.jsdelivr.net/npm/nouislider@15.1.1/dist/nouislider.js",h.css=`.anvil-container-overflow,.anvil-panel-col{overflow:visible}.anvil-slider-container{padding:10px 0;min-height:50px}
.anvil-slider-container.has-pips{padding-bottom:40px}.noUi-connect{background:var(--primary)}
.noUi-horizontal .noUi-handle{width:34px;height:34px;right:-17px;top:-10px;border-radius:50%}.noUi-handle::after,.noUi-handle::before{content:none}`;var x=class extends n{static init(){super.init(".anvil-extras-switch")}constructor(t,e,i){super(t,e,i);let s=e._anvil.components[0].component,r=s._anvil.domNode;r.classList.add("switch"),r.style.setProperty("--color",this.getColorRGB("#2196F3"));let l=r.querySelector("span");l.classList.add("lever"),l.removeAttribute("style");let a=r.querySelector("label"),d=document.createTextNode(""),c=document.createTextNode("");a.prepend(d),a.append(c),a.style.padding="7px 0",this.cb=s,this.cbNode=r,this.textNodePre=d,this.textNodePost=c}setProp(t,e){try{this.cb._anvil.setProp(t,Sk.ffi.toPy(e))}catch(i){t==="checked_color"?this.cbNode.style.setProperty("--r",this.getColorRGB(e,!0)):t==="text_pre"?this.textNodePre.textContent=e:this.textNodePost.textContent=e}}get[Symbol.toStringTag](){return"Switch"}};x.css=`
.switch,.switch *{-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.switch label{cursor:pointer}
.switch label input[type=checkbox]{opacity:0;width:0;height:0}.switch label input[type=checkbox]:checked+.lever{background-color:rgba(var(--color), .5)}
.switch label input[type=checkbox]:checked+.lever:after,.switch label input[type=checkbox]:checked+.lever:before{left:18px}
.switch label input[type=checkbox]:checked+.lever:after{background-color:rgb(var(--color))}
.switch label .lever{content:"";display:inline-block;position:relative;width:36px;height:14px;background-color:rgba(0,0,0,0.38);border-radius:15px;margin-right:10px;-webkit-transition:background 0.3s ease;transition:background 0.3s ease;vertical-align:middle;margin:0 16px}
.switch label .lever:after,.switch label .lever:before{content:"";position:absolute;display:inline-block;width:20px;height:20px;border-radius:50%;left:0;top:-3px;-webkit-transition:left 0.3s ease, background 0.3s ease, -webkit-box-shadow 0.1s ease, -webkit-transform 0.1s ease;transition:left 0.3s ease, background 0.3s ease, -webkit-box-shadow 0.1s ease, -webkit-transform 0.1s ease;transition:left 0.3s ease, background 0.3s ease, box-shadow 0.1s ease, transform 0.1s ease;transition:left 0.3s ease, background 0.3s ease, box-shadow 0.1s ease, transform 0.1s ease, -webkit-box-shadow 0.1s ease, -webkit-transform 0.1s ease}
.switch label .lever:before{background-color:rgb(var(--color), 0.15)}
.switch label .lever:after{background-color:#F1F1F1;-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0 rgba(0,0,0,0.14),0px 1px 5px 0 rgba(0,0,0,0.12);box-shadow:0 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0 rgba(0,0,0,0.14),0px 1px 5px 0 rgba(0,0,0,0.12)}
input[type=checkbox]:checked:not(:disabled) ~ .lever:active::before,input[type=checkbox]:checked:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgb(var(--color), 0.15)}
input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}
.switch input[type=checkbox][disabled]+.lever{cursor:default;background-color:rgba(0,0,0,0.12)}
.switch label input[type=checkbox][disabled]+.lever:after,.switch label input[type=checkbox][disabled]:checked+.lever:after{background-color:#949494}`;var g=class extends n{static init(){super.init(".anvil-container .tabs","anvil-extras-designer")}constructor(t,e,i){super(t,e,i);this.tabs=i,this.domNode.style.paddingTop="0",this.domNode.style.paddingBottom="0"}update(t){this.clearElement(this.tabs);let e={offsetLeft:0,offsetWidth:0};t.tab_titles||=[],t.tab_titles.forEach((l,a)=>{let d=document.createElement("li");d.className="tab";let c=document.createElement("a");c.style.cssText=`
			font-weight:${t.bold?"bold":""};
			text-align: ${t.align};
			font-size: ${t.font_size?t.font_size+"px":""};
			font-family:${t.font||""};
			font-style: ${t.italic?"italic":""};
			`,c.textContent=l,d.appendChild(c),this.tabs.appendChild(d),a===t.active_tab_index&&(c.className="active",e=d)});let i=document.createElement("li");this.tabs.appendChild(i),i.className="indicator",i.style.left=e.offsetLeft+"px",i.style.right=this.tabs.offsetWidth-e.offsetLeft-e.offsetWidth+"px";let s=this.getColorRGB(t.foreground,!0);this.tabs.style.setProperty("--color",s);let r=this.getColor(t.background);this.tabs.style.setProperty("--background",r),this.updateSpacing(t),this.updateRole(t),this.updateVisible(t)}get[Symbol.toStringTag](){return"Tabs"}};g.defaults={tab_titles:["Tab 1","Tab 2"],active_tab_index:0,visible:!0,align:"left"},g.css=`.tabs{position:relative;overflow-x:auto;overflow-y:hidden;height:48px;width:100%;background-color:var(--background, inherit);margin:0 auto;white-space:nowrap;padding:0;display:flex}
.tabs .tab{flex-grow:1;display:inline-block;text-align:center;line-height:48px;height:48px;padding:0;margin:0;text-transform:uppercase}
.tabs .tab a{color:rgba(var(--color),0.7);display:block;width:100%;height:100%;padding:0 24px;font-size:14px;text-overflow:ellipsis;overflow:hidden;-webkit-transition:color 0.28s ease, background-color 0.28s ease;transition:color 0.28s ease, background-color 0.28s ease}
.tabs .tab a:focus,.tabs .tab a:focus.active{background-color:rgb(var(--color), 0.2);outline:none}
.tabs .tab a.active,.tabs .tab a:hover{background-color:transparent;color:rgb(var(--color))}
.tabs .indicator{position:absolute;bottom:0;height:3px;background-color:rgb(var(--color), 0.4);will-change:left, right}`;export{p as DesignerMultiSelectDropDown,u as DesignerQuill,h as DesignerSlider,x as DesignerSwitch,g as DesignerTabs};
